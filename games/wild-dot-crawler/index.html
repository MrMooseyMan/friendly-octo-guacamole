<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wild Dot Crawler</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <main class="app" aria-label="Wild Dot Crawler">
    <header class="topbar">
      <div class="title">
        <div class="game-name">Wild Dot Crawler</div>
        <div class="sub">Turn-based dungeon crawl</div>
      </div>

      <div class="stats" aria-label="Stats">
        <div class="stat"><span class="k">HP</span> <span id="hpText" class="v">—</span></div>
        <div class="stat"><span class="k">Floor</span> <span id="floorText" class="v">—</span></div>
        <div class="stat"><span class="k">Score</span> <span id="scoreText" class="v">—</span></div>
        <div class="stat"><span class="k">Best</span> <span id="bestText" class="v">—</span></div>
      </div>
    </header>

    <section class="boardWrap">
      <canvas id="game" width="640" height="640" aria-label="Game board"></canvas>

      <div id="overlay" class="overlay" role="dialog" aria-modal="true" aria-label="Help">
        <div class="card">
          <h1 id="overlayTitle">How to play</h1>
          <p id="overlayMessage" class="overlayMsg"></p>
          <ul id="overlayHelp">
            <li><b>Move</b>: Arrow keys / WASD (or tap the D‑pad)</li>
            <li><b>Goal</b>: find the <b>stairs</b> (green) to go deeper</li>
            <li><b>Loot</b>: grab <b>gems</b> (+score) and <b>hearts</b> (+HP)</li>
            <li><b>Danger</b>: enemies move after you — don’t get surrounded</li>
          </ul>
          <div class="legend">
            <div class="chip"><span class="sw s-player"></span> You</div>
            <div class="chip"><span class="sw s-enemy"></span> Enemy</div>
            <div class="chip"><span class="sw s-gem"></span> Gem</div>
            <div class="chip"><span class="sw s-heart"></span> Heart</div>
            <div class="chip"><span class="sw s-stairs"></span> Stairs</div>
          </div>
          <div class="row">
            <button id="startBtn" class="btn primary">Start run</button>
            <button id="closeHelpBtn" class="btn">Close</button>
          </div>
          <p class="hint">Tip: press <b>?</b> anytime for help. Press <b>R</b> to restart.</p>
        </div>
      </div>
    </section>

    <section class="controls" aria-label="Controls">
      <div class="buttons">
        <button id="newBtn" class="btn">New run</button>
        <button id="helpBtn" class="btn">Help (?)</button>
      </div>

      <div class="dpad" aria-label="Movement controls">
        <button class="pad up" data-move="up" aria-label="Move up">▲</button>
        <button class="pad left" data-move="left" aria-label="Move left">◀</button>
        <button class="pad right" data-move="right" aria-label="Move right">▶</button>
        <button class="pad down" data-move="down" aria-label="Move down">▼</button>
      </div>

      <div class="log">
        <div class="logTitle">Log</div>
        <div id="log" class="logBody" aria-live="polite"></div>
      </div>
    </section>
  </main>

  <script src="./game.js"></script>
</body>
</html>
